class Options{constructor(){this.options={formatButtons:document.getElementsByName("imageType"),showCaseButtons:document.getElementsByName("showCase"),themeButton:document.getElementById("theme-button"),zoomButton:document.getElementById("zoom-button")},chrome.storage.local.get(a=>{this.storage=a,this.storage.darkTheme&&this.toggleActive(this.options.themeButton),this.storage.zoomMode&&this.toggleActive(this.options.zoomButton),this.setPhotoZoomListener(),this.setFormatListener(),this.setShowCaseListener(),this.showSettings(),this.makeVisible("inner-container")})}setFormatListener(){this.options.formatButtons.forEach(a=>{a.addEventListener("change",a=>{this.storage.imgFormat=a.target.value,chrome.storage.local.set(this.storage,()=>console.log("works inside format ",a.target.value)),chrome.runtime.sendMessage({action:"storage_update",storage:this.storage})})})}setShowCaseListener(){this.options.showCaseButtons.forEach(a=>{a.addEventListener("change",a=>{this.storage.showCase=a.target.value,chrome.storage.local.set(this.storage,()=>console.log("works show case ",a.target.value)),chrome.runtime.sendMessage({action:"storage_update",storage:this.storage})})})}setThemeListener(){this.options.themeButton.addEventListener("click",()=>{this.storage.darkTheme=!this.storage.darkTheme,chrome.storage.local.set(this.storage,()=>{this.toggleActive(this.options.themeButton),chrome.runtime.sendMessage({action:"storage_update",storage:this.storage})})})}setPhotoZoomListener(){this.options.zoomButton.addEventListener("click",()=>{this.storage.zoomMode=!this.storage.zoomMode,chrome.storage.local.set(this.storage,()=>{this.toggleActive(this.options.zoomButton),chrome.runtime.sendMessage({action:"storage_update",storage:this.storage})})})}toggleActive(a){a.classList.toggle("active")}makeVisible(a){document.getElementsByClassName(a)[0].classList.remove("hidden")}showSettings(){document.getElementById(this.storage.imgFormat).setAttribute("checked",!0),document.getElementById(this.storage.showCase).setAttribute("checked",!0)}}const c=new Options;